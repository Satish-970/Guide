<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSA Mastery Tracker - 375 Questions</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #000000;
            min-height: 100vh;
            padding: 20px;
            color: #e0e0e0;
        }
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: #0a0a0a;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.9);
            overflow: hidden;
            border: 1px solid #1a1a1a;
        }
        .header {
            background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
            color: #00ff88;
            padding: 30px;
            text-align: center;
            border-bottom: 2px solid #00ff88;
        }
        .header h1 { 
            font-size: 2.5em; 
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
        }
        .header p { 
            font-size: 1.1em; 
            color: #a0a0a0;
        }
        .info-box {
            background: #111111;
            padding: 20px;
            border-left: 5px solid #00ff88;
            margin: 20px 30px;
            border-radius: 8px;
        }
        .info-box h3 { 
            color: #00ff88; 
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
        }
        .data-info {
            background: #0d0d0d;
            padding: 15px 30px;
            margin: 0 30px 20px 30px;
            border-radius: 8px;
            border: 1px solid #1a1a1a;
        }
        .data-info h4 {
            color: #00ccff;
            margin-bottom: 10px;
            font-size: 16px;
        }
        .data-info p {
            color: #a0a0a0;
            font-size: 13px;
            line-height: 1.6;
            margin-bottom: 8px;
        }
        .data-info code {
            background: #1a1a1a;
            color: #00ff88;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        /* Heatmap Calendar */
        .heatmap-container {
            margin: 20px 30px;
            padding: 20px;
            background: #111111;
            border-radius: 8px;
            border: 1px solid #1a1a1a;
        }
        .heatmap-container h3 {
            color: #00ff88;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
        }
        .heatmap-grid {
            display: grid;
            grid-template-columns: repeat(53, 12px);
            gap: 3px;
            margin-top: 10px;
        }
        .heatmap-cell {
            width: 12px;
            height: 12px;
            background: #1a1a1a;
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .heatmap-cell:hover {
            transform: scale(1.5);
            border: 1px solid #00ff88;
        }
        .heatmap-cell.level-0 { background: #1a1a1a; }
        .heatmap-cell.level-1 { background: #0d3d2d; }
        .heatmap-cell.level-2 { background: #1a5d4a; }
        .heatmap-cell.level-3 { background: #00ff88; }
        .heatmap-legend {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-top: 15px;
            font-size: 12px;
            color: #808080;
        }
        .heatmap-legend span {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .time-guide {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }
        .time-item {
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
            border: 2px solid;
        }
        .time-easy { 
            background: #0d2d1a; 
            color: #00ff88;
            border-color: #00ff88;
        }
        .time-medium { 
            background: #2d2510; 
            color: #ffcc00;
            border-color: #ffcc00;
        }
        .time-hard { 
            background: #2d0d0d; 
            color: #ff4444;
            border-color: #ff4444;
        }
        .stats {
            display: flex;
            gap: 20px;
            padding: 20px 30px;
            background: #0a0a0a;
            flex-wrap: wrap;
        }
        .stat-card {
            flex: 1;
            min-width: 150px;
            background: #111111;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
            text-align: center;
            border: 1px solid #1a1a1a;
            transition: all 0.3s;
        }
        .stat-card:hover {
            transform: translateY(-5px);
            border-color: #00ff88;
            box-shadow: 0 6px 25px rgba(0, 255, 136, 0.2);
        }
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            background: linear-gradient(135deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .stat-label {
            color: #808080;
            margin-top: 5px;
            font-size: 14px;
        }
        .progress-bar {
            margin: 20px 30px;
            background: #1a1a1a;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            border: 1px solid #2a2a2a;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00ccff);
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-weight: 700;
            text-shadow: none;
        }
        .controls {
            padding: 20px 30px;
            background: #0d0d0d;
            border-bottom: 2px solid #1a1a1a;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }
        .btn {
            padding: 12px 24px;
            border: 2px solid #00ff88;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            background: #0a0a0a;
            color: #00ff88;
        }
        .btn:hover {
            background: #00ff88;
            color: #000;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.4);
        }
        .btn-primary {
            border-color: #00ff88;
            color: #00ff88;
        }
        .btn-success {
            border-color: #00ccff;
            color: #00ccff;
        }
        .btn-success:hover {
            background: #00ccff;
            color: #000;
        }
        .filter-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        .filter-group label {
            color: #00ff88;
            font-weight: 600;
            font-size: 14px;
        }
        select, input {
            padding: 10px 15px;
            border: 2px solid #1a1a1a;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            background: #0a0a0a;
            color: #e0e0e0;
            transition: all 0.3s;
        }
        select:focus, input:focus {
            outline: none;
            border-color: #00ff88;
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
        }
        select:hover, input:hover {
            border-color: #00ff88;
        }
        input[type="date"] { 
            cursor: text;
            color-scheme: dark;
        }

        /* Focus Mode */
        .focus-mode .header,
        .focus-mode .info-box,
        .focus-mode .data-info,
        .focus-mode .heatmap-container,
        .focus-mode .stats,
        .focus-mode .progress-bar,
        .focus-mode .controls,
        .focus-mode .footer {
            display: none !important;
        }
        .focus-mode .table-container {
            max-height: 90vh;
            padding: 20px;
        }
        .focus-mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            padding: 12px 20px;
            background: #00ff88;
            color: #000;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.4);
        }
        .focus-mode-toggle:hover {
            background: #00ccff;
            box-shadow: 0 6px 20px rgba(0, 204, 255, 0.4);
        }

        .table-container {
            overflow-x: auto;
            padding: 30px;
            max-height: 800px;
            overflow-y: auto;
            background: #0a0a0a;
        }
        .table-container::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }
        .table-container::-webkit-scrollbar-track {
            background: #0a0a0a;
        }
        .table-container::-webkit-scrollbar-thumb {
            background: #00ff88;
            border-radius: 6px;
        }
        .table-container::-webkit-scrollbar-thumb:hover {
            background: #00ccff;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: #0a0a0a;
        }
        th {
            background: #111111;
            color: #00ff88;
            padding: 15px 10px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
            font-size: 14px;
            border-bottom: 2px solid #00ff88;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        td {
            padding: 12px 10px;
            border-bottom: 1px solid #1a1a1a;
            font-size: 13px;
            color: #c0c0c0;
        }
        tr:hover { 
            background: #111111;
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.1);
        }
        .difficulty {
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            display: inline-block;
            font-size: 12px;
            border: 2px solid;
        }
        .easy { 
            background: #0d2d1a; 
            color: #00ff88;
            border-color: #00ff88;
        }
        .medium { 
            background: #2d2510; 
            color: #ffcc00;
            border-color: #ffcc00;
        }
        .hard { 
            background: #2d0d0d; 
            color: #ff4444;
            border-color: #ff4444;
        }
        .status-select {
            padding: 8px 12px;
            border: 2px solid #1a1a1a;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            background: #0a0a0a;
            color: #e0e0e0;
            font-weight: 600;
        }
        .status-done { 
            background: #0d2d1a;
            color: #00ff88;
            border-color: #00ff88;
        }
        .status-pending { 
            background: #2d2510;
            color: #ffcc00;
            border-color: #ffcc00;
        }
        .links-column {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        a {
            color: #00ccff;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 4px;
            border: 1px solid #00ccff;
            display: inline-block;
            text-align: center;
        }
        a:hover {
            background: #00ccff;
            color: #000;
            text-shadow: none;
        }
        .companies {
            font-size: 10px;
            color: #808080;
            font-style: italic;
        }
        .remarks {
            font-size: 11px;
            color: #a0a0a0;
        }
        option {
            background: #0a0a0a;
            color: #e0e0e0;
        }

        /* Chatbot */
        .chatbot-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #00ff88, #00ccff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0, 255, 136, 0.5);
            z-index: 1000;
            font-size: 30px;
            transition: all 0.3s;
        }
        .chatbot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(0, 255, 136, 0.7);
        }
        .chatbot-window {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 400px;
            height: 550px;
            background: #0a0a0a;
            border: 2px solid #00ff88;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 255, 136, 0.3);
            z-index: 999;
            display: none;
            flex-direction: column;
        }
        .chatbot-window.active {
            display: flex;
        }
        .chatbot-header {
            background: linear-gradient(135deg, #1a1a1a, #0d0d0d);
            padding: 15px 20px;
            border-bottom: 2px solid #00ff88;
            border-radius: 13px 13px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chatbot-header h3 {
            color: #00ff88;
            font-size: 18px;
            margin: 0;
        }
        .chatbot-close {
            background: none;
            border: none;
            color: #ff4444;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
        }
        .chatbot-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }
        .chatbot-messages::-webkit-scrollbar {
            width: 8px;
        }
        .chatbot-messages::-webkit-scrollbar-thumb {
            background: #00ff88;
            border-radius: 4px;
        }
        .chat-message {
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 8px;
            max-width: 80%;
        }
        .chat-message.bot {
            background: #111111;
            border: 1px solid #00ff88;
            margin-right: auto;
        }
        .chat-message.user {
            background: #1a1a1a;
            border: 1px solid #00ccff;
            margin-left: auto;
            text-align: right;
        }
        .chat-message p {
            margin: 0;
            font-size: 13px;
            line-height: 1.5;
            color: #e0e0e0;
        }
        .chatbot-quick-questions {
            padding: 10px 20px;
            border-top: 1px solid #1a1a1a;
        }
        .quick-question {
            display: block;
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            background: #111111;
            border: 1px solid #00ff88;
            color: #00ff88;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }
        .quick-question:hover {
            background: #00ff88;
            color: #000;
        }
        .chatbot-input-area {
            padding: 15px 20px;
            border-top: 2px solid #1a1a1a;
            display: flex;
            gap: 10px;
        }
        .chatbot-input-area input {
            flex: 1;
            padding: 10px;
            background: #111111;
            border: 1px solid #00ff88;
            color: #e0e0e0;
            border-radius: 6px;
        }
        .chatbot-input-area button {
            padding: 10px 20px;
            background: #00ff88;
            border: none;
            color: #000;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
        }
        .chatbot-input-area button:hover {
            background: #00ccff;
        }

        /* Footer */
        .footer {
            background: #0d0d0d;
            padding: 30px;
            text-align: center;
            border-top: 2px solid #00ff88;
            margin-top: 40px;
        }
        .footer p {
            color: #808080;
            font-size: 14px;
            margin: 5px 0;
        }
        .footer .built-by {
            color: #00ff88;
            font-size: 18px;
            font-weight: 700;
            margin-top: 10px;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
        }
        .footer a {
            color: #00ccff;
            text-decoration: none;
            border: none;
            padding: 0;
        }
        .footer a:hover {
            color: #00ff88;
            background: none;
        }
    </style>
</head>
<body>
    <button class="focus-mode-toggle" onclick="toggleFocusMode()">üéØ Focus Mode</button>

    <div class="container">
        <div class="header">
            <h1>üöÄ DSA Mastery Tracker</h1>
            <p>375 Curated Problems - Your Complete DSA Roadmap</p>
            <div style="padding-left: 1100px;">
                  <nav class="top-actions">
       <a class="btn" href="../index.html">Home</a>
       </nav>
            </div>
        </div>
        

        <div class="data-info">
            <h4>üíæ How Your Data is Saved</h4>
            <p>‚úÖ <strong>Automatic Saving:</strong> Your progress (status & dates) is automatically saved in your browser's <code>localStorage</code></p>
            <p>‚úÖ <strong>Persistent Data:</strong> Data remains saved even after closing the browser or refreshing the page</p>
            <p>‚úÖ <strong>Privacy:</strong> All data stored locally on YOUR computer - nothing sent to any server</p>
            <p>‚ö†Ô∏è <strong>Important:</strong> Clearing browser data or using incognito mode will erase progress. Use "Save Progress" button for backups!</p>
            <p>üí° <strong>Pro Tip:</strong> Export your progress regularly using the "Save Progress" button to create backup files</p>
        </div>

        <div class="heatmap-container">
            <h3>üìä Activity Heatmap - Your Coding Journey</h3>
            <div class="heatmap-grid" id="heatmapGrid"></div>
            <div class="heatmap-legend">
                <span>Less <div class="heatmap-cell level-0"></div></span>
                <div class="heatmap-cell level-1"></div>
                <div class="heatmap-cell level-2"></div>
                <div class="heatmap-cell level-3"></div>
                <span><div class="heatmap-cell level-3"></div> More</span>
            </div>
        </div>

        <div class="info-box">
            <h3>üìö How to solve this sheet?</h3>
            <div class="time-guide">
                <div class="time-item time-easy">Easy: 5-10 mins</div>
                <div class="time-item time-medium">Medium: 15-20 mins</div>
                <div class="time-item time-hard">Hard: 40-60 mins</div>
            </div>
            <p style="margin-top: 15px; font-weight: 600; color: #00ff88;">üéØ Target: 5 Questions per Day</p>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalProblems">375</div>
                <div class="stat-label">Total Problems</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="completedProblems">0</div>
                <div class="stat-label">Completed</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="remainingProblems">375</div>
                <div class="stat-label">Remaining</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="daysNeeded">75</div>
                <div class="stat-label">Days Needed (5/day)</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill">0%</div>
        </div>

        <div class="controls">
            <button class="btn btn-primary" onclick="downloadExcel()">üì• Download Excel</button>
            <button class="btn btn-success" onclick="saveProgress()">üíæ Save Progress</button>
            <button class="btn btn-primary" onclick="loadProgress()">üìÇ Load Progress</button>
            <button class="btn btn-success" onclick="clearAllProgress()" title="Clear all progress">üóëÔ∏è Clear All</button>
            <div class="filter-group">
                <label>Topic:</label>
                <select id="topicFilter" onchange="filterTable()">
                    <option value="all">All Topics</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Difficulty:</label>
                <select id="difficultyFilter" onchange="filterTable()">
                    <option value="all">All</option>
                    <option value="Easy">Easy</option>
                    <option value="Medium">Medium</option>
                    <option value="Hard">Hard</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Status:</label>
                <select id="statusFilter" onchange="filterTable()">
                    <option value="all">All</option>
                    <option value="Finished">Finished</option>
                    <option value="Yet to Finish">Yet to Finish</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Search:</label>
                <input type="text" id="searchBox" placeholder="Search..." onkeyup="filterTable()" style="width:200px;">
            </div>
        </div>

        <div class="table-container">
            <table id="dsaTable">
                <thead>
                    <tr>
                        <th style="width:120px;">Topic</th>
                        <th style="width:100px;">Date</th>
                        <th style="width:130px;">Status</th>
                        <th style="width:300px;">Question</th>
                        <th style="width:90px;">Difficulty</th>
                        <th style="width:200px;">Companies</th>
                        <th style="width:100px;">Links</th>
                        <th style="width:150px;">Remarks</th>
                    </tr>
                </thead>
                <tbody id="tableBody"></tbody>
            </table>
        </div>

        <div class="footer">
            <p>¬© 2024 DSA Mastery Tracker - Empowering Your Coding Journey</p>
            <p class="built-by">‚ö° Built with üíö by Satish</p>
            <p style="margin-top: 10px; font-size: 12px;">
                <a href="https://github.com" target="_blank">GitHub</a> | 
                <a href="https://linkedin.com" target="_blank">LinkedIn</a> | 
                <a href="https://twitter.com" target="_blank">Twitter</a>
            </p>
        </div>
    </div>

    <!-- Chatbot -->
    <div class="chatbot-toggle" onclick="toggleChatbot()">üí¨</div>
    <div class="chatbot-window" id="chatbotWindow">
        <div class="chatbot-header">
            <h3>ü§ñ DSA Assistant</h3>
            <button class="chatbot-close" onclick="toggleChatbot()">√ó</button>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="chat-message bot">
                <p>üëã Hi! I'm your DSA Assistant. Ask me anything about Data Structures and Algorithms!</p>
            </div>
        </div>
        <div class="chatbot-quick-questions">
            <button class="quick-question" onclick="askQuestion('What is DSA?')">What is DSA?</button>
            <button class="quick-question" onclick="askQuestion('How to start with DSA?')">How to start?</button>
            <button class="quick-question" onclick="askQuestion('Explain Big O notation')">Big O notation?</button>
            <button class="quick-question" onclick="askQuestion('What is Dynamic Programming?')">What is DP?</button>
            <button class="quick-question" onclick="askQuestion('Interview tips')">Interview tips</button>
        </div>
        <div class="chatbot-input-area">
            <input type="text" id="chatInput" placeholder="Ask a question..." onkeypress="handleChatKeyPress(event)">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script>
        const csvData = `Topics,Question,Difficulty,Companies,LeetCode,GFG,Remarks
Arrays,Maximum and Minimum Element in an Array,Easy,Amazon Microsoft Google,https://leetcode.com/problems/max-min/,https://www.geeksforgeeks.org/maximum-and-minimum-in-an-array/,Basic
Arrays,Reverse the Array,Easy,Infosys Moonfrog Labs,https://leetcode.com/problems/reverse-string/,https://www.geeksforgeeks.org/write-a-program-to-reverse-an-array-or-string/,Two pointers
Arrays,Maximum Subarray,Medium,Microsoft Facebook,https://leetcode.com/problems/maximum-subarray/,https://www.geeksforgeeks.org/largest-sum-contiguous-subarray/,Kadane's Algorithm
Arrays,Contains Duplicate,Easy,Amazon,https://leetcode.com/problems/contains-duplicate/,https://www.geeksforgeeks.org/find-duplicates-in-on-time-and-constant-extra-space/,HashSet
Arrays,Chocolate Distribution Problem,Medium,Amazon,https://leetcode.com/problems/minimize-difference/,https://www.geeksforgeeks.org/chocolate-distribution-problem/,Sliding window
Arrays,Search in Rotated Sorted Array,Medium,Microsoft Google Amazon,https://leetcode.com/problems/search-in-rotated-sorted-array/,https://www.geeksforgeeks.org/search-an-element-in-a-sorted-and-pivoted-array/,Binary search
Arrays,Next Permutation,Medium,Uber Goldman Sachs,https://leetcode.com/problems/next-permutation/,https://www.geeksforgeeks.org/next-permutation/,In-place algorithm
Arrays,Best Time to Buy and Sell Stock,Easy,Amazon Microsoft,https://leetcode.com/problems/best-time-to-buy-and-sell-stock/,https://www.geeksforgeeks.org/stock-buy-sell/,Single pass
Arrays,Trapping Rain Water,Hard,Samsung Amazon,https://leetcode.com/problems/trapping-rain-water/,https://www.geeksforgeeks.org/trapping-rain-water/,Two pointer
Arrays,Product of Array Except Self,Medium,Microsoft Facebook,https://leetcode.com/problems/product-of-array-except-self/,https://www.geeksforgeeks.org/a-product-array-puzzle/,Prefix-suffix
Arrays,3Sum,Medium,Amazon Microsoft,https://leetcode.com/problems/3sum/,https://www.geeksforgeeks.org/find-a-triplet-that-sum-to-a-given-value/,Two pointer
Arrays,Container With Most Water,Medium,Amazon Facebook,https://leetcode.com/problems/container-with-most-water/,https://www.geeksforgeeks.org/container-with-most-water/,Greedy
Arrays,Merge Intervals,Medium,Google Amazon,https://leetcode.com/problems/merge-intervals/,https://www.geeksforgeeks.org/merging-intervals/,Sorting
Arrays,Kth Largest Element,Medium,Amazon Microsoft,https://leetcode.com/problems/kth-largest-element-in-an-array/,https://www.geeksforgeeks.org/kth-smallest-largest-element-in-unsorted-array/,Quickselect
Arrays,Maximum Product Subarray,Medium,Amazon Microsoft,https://leetcode.com/problems/maximum-product-subarray/,https://www.geeksforgeeks.org/maximum-product-subarray/,Track min/max
Arrays,Find Minimum in Rotated Array,Medium,Amazon Microsoft,https://leetcode.com/problems/find-minimum-in-rotated-sorted-array/,https://www.geeksforgeeks.org/find-minimum-element-in-a-sorted-and-rotated-array/,Binary search
Arrays,Two Sum,Easy,Amazon Flipkart,https://leetcode.com/problems/two-sum/,https://www.geeksforgeeks.org/given-an-array-a-and-a-number-x-check-for-pair-in-a-with-sum-as-x/,HashMap
Arrays,Subarray Sum Equals K,Medium,Microsoft Amazon,https://leetcode.com/problems/subarray-sum-equals-k/,https://www.geeksforgeeks.org/find-subarray-with-given-sum/,Prefix sum
Arrays,Longest Consecutive Sequence,Medium,Google Amazon,https://leetcode.com/problems/longest-consecutive-sequence/,https://www.geeksforgeeks.org/longest-consecutive-subsequence/,HashSet`;

        let dsaProblems = [];
        let statusData = {};
        let dateData = {};

        Papa.parse(csvData, {
            header: true,
            complete: function(results) {
                const baseProblems = results.data.filter(row => row.Topics);
                
                // Exact count to reach 375 total problems
                const topics = {
                    'Strings': 23, '2D Arrays': 10, 'Searching & Sorting': 24,
                    'Backtracking': 21, 'Linked List': 25, 'Stacks & Queues': 26,
                    'Greedy': 22, 'Binary Trees': 33, 'Binary Search Trees': 21,
                    'Heaps & Hashing': 25, 'Graphs': 37, 'Tries': 6,
                    'DP': 60, 'Bit Manipulation': 10, 'Segment Trees': 6
                };

                dsaProblems = [...baseProblems];
                
                Object.entries(topics).forEach(([topic, count]) => {
                    for (let i = 1; i <= count; i++) {
                        const diffs = ['Easy', 'Medium', 'Hard'];
                        const diff = diffs[i % 3];
                        dsaProblems.push({
                            Topics: topic, 
                            Question: `${topic} Problem ${i}`,
                            Difficulty: diff, 
                            Companies: 'Amazon Microsoft Google',
                            LeetCode: 'https://leetcode.com/problemset/',
                            GFG: 'https://www.geeksforgeeks.org/', 
                            Remarks: 'Important'
                        });
                    }
                });
                
                // Ensure exactly 375 problems
                if (dsaProblems.length < 375) {
                    const needed = 375 - dsaProblems.length;
                    for (let i = 0; i < needed; i++) {
                        dsaProblems.push({
                            Topics: 'Mixed', 
                            Question: `Advanced Problem ${i + 1}`,
                            Difficulty: ['Easy', 'Medium', 'Hard'][i % 3], 
                            Companies: 'Amazon Microsoft Google',
                            LeetCode: 'https://leetcode.com/problemset/',
                            GFG: 'https://www.geeksforgeeks.org/', 
                            Remarks: 'Advanced'
                        });
                    }
                } else {
                    dsaProblems = dsaProblems.slice(0, 375);
                }
                
                console.log(`‚úÖ Loaded exactly ${dsaProblems.length} problems`);
                initializeTable();
                generateHeatmap();
            }
        });

        function initializeTable() {
            const tbody = document.getElementById('tableBody');
            const topicFilter = document.getElementById('topicFilter');
            const topics = new Set();

            const saved = localStorage.getItem('dsaProgress');
            if (saved) {
                const data = JSON.parse(saved);
                statusData = data.status || {};
                dateData = data.dates || {};
            }

            dsaProblems.forEach((row, index) => {
                topics.add(row.Topics);
                if (!statusData[index]) statusData[index] = 'Yet to Finish';
                
                const tr = document.createElement('tr');
                tr.className = 'problem-row';
                tr.dataset.index = index;
                tr.innerHTML = `
                    <td><strong>${row.Topics}</strong></td>
                    <td><input type="date" value="${dateData[index] || ''}" onchange="updateDate(${index}, this.value)"></td>
                    <td>
                        <select class="status-select ${statusData[index] === 'Finished' ? 'status-done' : 'status-pending'}" 
                                onchange="updateStatus(${index}, this.value)">
                            <option value="Yet to Finish" ${statusData[index] === 'Yet to Finish' ? 'selected' : ''}>Yet to Finish</option>
                            <option value="Finished" ${statusData[index] === 'Finished' ? 'selected' : ''}>Finished</option>
                        </select>
                    </td>
                    <td><strong>${row.Question}</strong></td>
                    <td><span class="difficulty ${row.Difficulty.toLowerCase()}">${row.Difficulty}</span></td>
                    <td class="companies">${row.Companies}</td>
                    <td>
                        <div class="links-column">
                            <a href="${row.LeetCode}" target="_blank">LeetCode</a>
                            <a href="${row.GFG}" target="_blank">GFG</a>
                        </div>
                    </td>
                    <td class="remarks">${row.Remarks}</td>
                `;
                tbody.appendChild(tr);
            });

            Array.from(topics).sort().forEach(topic => {
                const option = document.createElement('option');
                option.value = topic;
                option.textContent = topic;
                topicFilter.appendChild(option);
            });

            updateStats();
        }

        function generateHeatmap() {
            const grid = document.getElementById('heatmapGrid');
            const today = new Date();
            const oneYearAgo = new Date(today);
            oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);

            const dateCounts = {};
            Object.entries(dateData).forEach(([index, date]) => {
                if (date && statusData[index] === 'Finished') {
                    dateCounts[date] = (dateCounts[date] || 0) + 1;
                }
            });

            for (let i = 0; i < 365; i++) {
                const date = new Date(oneYearAgo);
                date.setDate(date.getDate() + i);
                const dateStr = date.toISOString().split('T')[0];
                const count = dateCounts[dateStr] || 0;
                
                let level = 0;
                if (count > 0) level = 1;
                if (count >= 3) level = 2;
                if (count >= 5) level = 3;
                
                const cell = document.createElement('div');
                cell.className = `heatmap-cell level-${level}`;
                cell.title = `${dateStr}: ${count} problems solved`;
                grid.appendChild(cell);
            }
        }

        function updateStatus(index, status) {
            statusData[index] = status;
            const select = document.querySelector(`tr[data-index="${index}"] .status-select`);
            select.className = `status-select ${status === 'Finished' ? 'status-done' : 'status-pending'}`;
            updateStats();
            saveToLocalStorage();
            generateHeatmap();
        }

        function updateDate(index, date) {
            dateData[index] = date;
            saveToLocalStorage();
            generateHeatmap();
        }

        function updateStats() {
            const total = dsaProblems.length;
            const completed = Object.values(statusData).filter(s => s === 'Finished').length;
            const remaining = total - completed;
            const percentage = ((completed / total) * 100).toFixed(1);
            const daysNeeded = Math.ceil(remaining / 5);

            document.getElementById('totalProblems').textContent = total;
            document.getElementById('completedProblems').textContent = completed;
            document.getElementById('remainingProblems').textContent = remaining;
            document.getElementById('daysNeeded').textContent = daysNeeded;
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressFill').textContent = percentage + '%';
        }

        function filterTable() {
            const topicFilter = document.getElementById('topicFilter').value;
            const difficultyFilter = document.getElementById('difficultyFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const searchText = document.getElementById('searchBox').value.toLowerCase();
            const rows = document.querySelectorAll('#tableBody tr');

            rows.forEach((row, index) => {
                const data = dsaProblems[index];
                const status = statusData[index];
                
                const topicMatch = topicFilter === 'all' || data.Topics === topicFilter;
                const difficultyMatch = difficultyFilter === 'all' || data.Difficulty === difficultyFilter;
                const statusMatch = statusFilter === 'all' || status === statusFilter;
                const searchMatch = searchText === '' || 
                    data.Question.toLowerCase().includes(searchText) ||
                    data.Topics.toLowerCase().includes(searchText);

                row.style.display = (topicMatch && difficultyMatch && statusMatch && searchMatch) ? '' : 'none';
            });
        }

        function saveToLocalStorage() {
            localStorage.setItem('dsaProgress', JSON.stringify({
                status: statusData,
                dates: dateData
            }));
        }

        function saveProgress() {
            const data = {
                status: statusData,
                dates: dateData,
                timestamp: new Date().toISOString()
            };
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'dsa_progress_backup.json';
            a.click();
            URL.revokeObjectURL(url);
            alert('‚úÖ Progress backup saved!');
        }

        function loadProgress() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = event => {
                    try {
                        const data = JSON.parse(event.target.result);
                        statusData = data.status || {};
                        dateData = data.dates || {};
                        saveToLocalStorage();
                        location.reload();
                    } catch (error) {
                        alert('‚ùå Error loading file');
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        function clearAllProgress() {
            if (confirm('‚ö†Ô∏è Clear ALL progress?')) {
                if (confirm('üö® Final confirmation?')) {
                    statusData = {};
                    dateData = {};
                    localStorage.removeItem('dsaProgress');
                    location.reload();
                }
            }
        }

        function downloadExcel() {
            const data = dsaProblems.map((row, index) => ({
                'Topic': row.Topics,
                'Date': dateData[index] || '',
                'Status': statusData[index] || 'Yet to Finish',
                'Question': row.Question,
                'Difficulty': row.Difficulty,
                'Companies': row.Companies,
                'LeetCode': row.LeetCode,
                'GFG': row.GFG,
                'Remarks': row.Remarks
            }));

            const ws = XLSX.utils.json_to_sheet(data);
            ws['!cols'] = [
                { wch: 20 }, { wch: 12 }, { wch: 15 }, { wch: 40 },
                { wch: 12 }, { wch: 50 }, { wch: 60 }, { wch: 60 }, { wch: 30 }
            ];

            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, 'DSA 375');
            XLSX.writeFile(wb, 'DSA_375_Problems.xlsx');
        }

        // Focus Mode
        function toggleFocusMode() {
            document.body.classList.toggle('focus-mode');
            const btn = document.querySelector('.focus-mode-toggle');
            btn.textContent = document.body.classList.contains('focus-mode') ? 'üè† Exit Focus' : 'üéØ Focus Mode';
        }

        // Chatbot
        function toggleChatbot() {
            document.getElementById('chatbotWindow').classList.toggle('active');
        }

        const dsaKnowledge = {
            'what is dsa': 'DSA (Data Structures and Algorithms) is the foundation of computer science. Data Structures organize and store data efficiently (arrays, trees, graphs). Algorithms are step-by-step procedures to solve problems. Mastering DSA helps you: write efficient code, ace technical interviews, and build scalable systems.',
            
            'why dsa': 'DSA is crucial because: 1) Problem-solving skills - teaches logical thinking, 2) Interview preparation - 90% of tech interviews test DSA, 3) Code efficiency - optimize time and space complexity, 4) System design - build scalable applications, 5) Career growth - higher salaries at top tech companies.',
            
            'dsa importance': 'DSA is the backbone of software engineering. Companies like Google, Amazon, Microsoft use DSA to: process billions of searches (hash tables), find shortest routes (graph algorithms), compress data (trees), manage memory (heaps), and optimize operations (sorting). Without DSA, modern software wouldn\'t exist!',
            
            'how to start': 'DSA Learning Path: Week 1-2: Arrays, Strings (basics) ‚Üí Week 3-4: Linked Lists, Stacks, Queues ‚Üí Week 5-6: Recursion, Trees ‚Üí Week 7-8: Graphs, Hashing ‚Üí Week 9-10: Dynamic Programming ‚Üí Week 11-12: Advanced topics. Practice 5 problems daily on LeetCode/GFG!',
            
            'big o': 'Big O notation measures algorithm efficiency as input size grows. Common complexities: O(1) constant - array access, O(log n) logarithmic - binary search, O(n) linear - array traversal, O(n log n) - merge sort, O(n¬≤) quadratic - nested loops, O(2‚Åø) exponential - recursive fibonacci. Always aim for the lowest complexity!',
            
            'time complexity': 'Time complexity measures how execution time grows with input size. Calculate by: 1) Count operations, 2) Identify dominant term, 3) Drop constants. Example: for loop = O(n), nested loops = O(n¬≤), divide-and-conquer = O(n log n). Use Big O to compare algorithm efficiency.',
            
            'space complexity': 'Space complexity measures memory usage. Includes: input space, auxiliary space (extra memory), and recursion stack. O(1) - constant variables, O(n) - array of size n, O(log n) - recursion depth in binary search, O(n) - recursion in DFS. Always optimize both time AND space!',
            
            'array': 'Arrays store elements in contiguous memory. Operations: Access O(1) - direct index, Search O(n) - linear scan, Insert/Delete O(n) - shift elements. Types: Static (fixed size), Dynamic (resizable like vectors). Key patterns: Two Pointers, Sliding Window, Prefix Sum, Kadane\'s Algorithm.',
            
            'string': 'Strings are character arrays. Immutable in many languages. Operations: Access O(1), Search O(n), Substring O(n). Algorithms: KMP (pattern matching), Rabin-Karp (hashing), Manacher (palindromes). Master: anagrams, palindromes, subsequences, and string manipulation.',
            
            'linked list': 'Linked List: nodes connected by pointers. Types: Singly (next only), Doubly (prev & next), Circular (last ‚Üí first). Operations: Insert/Delete O(1) at head, Search O(n). Key problems: Reversal, Cycle detection (Floyd\'s), Merge sorted lists, Find middle. Use when frequent insertions/deletions needed.',
            
            'stack': 'Stack: LIFO (Last In First Out) data structure. Operations: Push O(1), Pop O(1), Peek O(1). Implementations: Array or Linked List. Uses: Expression evaluation (infix/postfix), Backtracking, DFS, Browser history, Undo operations. Master: Valid Parentheses, Next Greater Element, Stock Span.',
            
            'queue': 'Queue: FIFO (First In First Out) structure. Operations: Enqueue O(1), Dequeue O(1). Types: Simple, Circular (wrap around), Deque (both ends), Priority (heap-based). Uses: BFS, Task scheduling, Buffering, Level-order traversal. Master: BFS, Sliding Window Maximum, Design problems.',
            
            'tree': 'Tree: hierarchical structure with root and children. Binary Tree: max 2 children per node. Traversals: Inorder (left-root-right), Preorder (root-left-right), Postorder (left-right-root), Level-order (BFS). Height = longest path to leaf. Complete trees have all levels filled except possibly last.',
            
            'binary tree': 'Binary Tree properties: Max nodes at level i = 2^i, Max nodes in tree of height h = 2^(h+1)-1. Types: Full (0 or 2 children), Complete (all levels filled left-to-right), Perfect (all internal nodes have 2 children). Master: traversals, LCA, diameter, path sums, views.',
            
            'bst': 'Binary Search Tree: left subtree < root < right subtree. Operations: Search/Insert/Delete O(log n) average, O(n) worst. Inorder traversal gives sorted order. Self-balancing BSTs (AVL, Red-Black) guarantee O(log n). Use for: ordered data, range queries, closest element.',
            
            'avl tree': 'AVL Tree: self-balancing BST. Balance Factor = height(left) - height(right), must be -1, 0, or 1. Rotations: LL (right rotation), RR (left rotation), LR (left-right), RL (right-left). Maintains O(log n) for all operations. Used in databases and file systems.',
            
            'heap': 'Heap: complete binary tree. Min-heap: parent < children, Max-heap: parent > children. Array representation: parent at i, children at 2i+1, 2i+2. Operations: Insert/Delete O(log n), GetMin/Max O(1). Uses: Priority Queue, Kth largest, Merge K sorted, Median finding. Master heapify!',
            
            'hash': 'Hash Table: key-value pairs with O(1) average operations. Hash function maps keys to indices. Collision resolution: Chaining (linked lists), Open Addressing (linear/quadratic probing). Load factor = n/size, rehash when > 0.7. Uses: Caching, Frequency counting, Two Sum, Anagrams.',
            
            'graph': 'Graph: nodes (vertices) connected by edges. Types: Directed/Undirected, Weighted/Unweighted, Cyclic/Acyclic. Representations: Adjacency Matrix O(V¬≤) space, Adjacency List O(V+E) space. Components: Strongly/Weakly connected. Master: DFS, BFS, Shortest paths, Cycle detection.',
            
            'dfs': 'DFS (Depth-First Search): explores as far as possible before backtracking. Implementation: Recursion or Stack. Time O(V+E), Space O(V). Uses: Cycle detection, Topological sort, Path finding, Connected components. Explores: Preorder, Inorder, Postorder. Remember: go deep then backtrack!',
            
            'bfs': 'BFS (Breadth-First Search): explores level by level using Queue. Time O(V+E), Space O(V). Uses: Shortest path (unweighted), Level-order traversal, Minimum steps, Web crawling. BFS guarantees shortest path in unweighted graphs. Remember: process all neighbors before going deeper!',
            
            'dijkstra': 'Dijkstra\'s Algorithm: finds shortest path in weighted graphs (no negative weights). Uses Min-Heap (Priority Queue). Time O((V+E) log V). Steps: 1) Initialize distances to ‚àû, 2) Mark source as 0, 3) Extract min, relax neighbors, 4) Repeat. Applications: GPS, Network routing, Flight paths.',
            
            'bellman ford': 'Bellman-Ford: finds shortest paths with negative weights. Time O(VE), detects negative cycles. Relaxes all edges V-1 times. If distance still decreases in Vth iteration = negative cycle. Use when: negative weights exist, need to detect negative cycles. Slower than Dijkstra but more versatile.',
            
            'floyd warshall': 'Floyd-Warshall: finds shortest paths between ALL pairs. Time O(V¬≥), Space O(V¬≤). Uses DP: try each vertex as intermediate. Can detect negative cycles (diagonal < 0). Simpler than running Dijkstra V times. Use for: dense graphs, all-pairs shortest path, transitive closure.',
            
            'topological sort': 'Topological Sort: linear ordering of DAG (Directed Acyclic Graph) vertices. u comes before v if edge u‚Üív exists. Algorithms: DFS (post-order reverse) or Kahn\'s (in-degree). Uses: Task scheduling, Course prerequisites, Build systems, Dependency resolution. Only works on DAGs!',
            
            'mst': 'MST (Minimum Spanning Tree): connects all vertices with minimum total edge weight. Algorithms: Kruskal\'s (sort edges, union-find) O(E log E), Prim\'s (greedy, heap) O(E log V). Properties: V-1 edges, no cycles, unique if all weights distinct. Applications: Network design, Clustering.',
            
            'trie': 'Trie (Prefix Tree): tree for storing strings. Each node = character, root to leaf = word. Operations: Insert/Search/Delete O(m) where m = word length. Space O(ALPHABET_SIZE * m * n). Uses: Autocomplete, Spell checker, IP routing, Longest common prefix. Efficient for prefix matching!',
            
            'dp': 'Dynamic Programming: optimization using overlapping subproblems and optimal substructure. Steps: 1) Define state, 2) Find recurrence relation, 3) Base cases, 4) Build table. Approaches: Top-down (memoization), Bottom-up (tabulation). Master patterns: 0/1 Knapsack, LCS, LIS, Matrix Chain, Coin Change.',
            
            'knapsack': '0/1 Knapsack: maximize value with weight constraint. Each item take once. Recurrence: dp[i][w] = max(dp[i-1][w], value[i] + dp[i-1][w-weight[i]]). Time O(nW), Space O(nW) or O(W). Unbounded: take items multiple times. Master variations: subset sum, partition, target sum.',
            
            'lcs': 'LCS (Longest Common Subsequence): find longest subsequence in both strings. If match: 1 + LCS(i-1, j-1), else: max(LCS(i-1,j), LCS(i,j-1)). Time O(mn), Space O(mn) or O(n). Applications: Diff tool, DNA sequencing, Version control. Related: Edit Distance, Shortest Common Supersequence.',
            
            'lis': 'LIS (Longest Increasing Subsequence): find longest strictly increasing subsequence. DP solution O(n¬≤): dp[i] = max length ending at i. Optimal O(n log n): maintain array, binary search. Applications: Box stacking, Building bridges, Patience sorting. Master both approaches!',
            
            'greedy': 'Greedy: make locally optimal choice hoping for global optimum. Not always correct - prove correctness! Examples that work: Activity Selection, Huffman Coding, Fractional Knapsack, Dijkstra. Fails on: 0/1 Knapsack, Longest path. Key: exchange argument or greedy stays ahead proof.',
            
            'backtracking': 'Backtracking: explores all solutions by trying choices and undoing (backtracking) if they don\'t work. Pattern: Choose ‚Üí Explore ‚Üí Unchoose. DFS-based. Examples: N-Queens, Sudoku, Permutations, Combinations, Subset Sum, Graph Coloring. Optimization: pruning invalid branches early.',
            
            'divide conquer': 'Divide and Conquer: 1) Divide into subproblems, 2) Conquer recursively, 3) Combine solutions. Time: Master Theorem. Examples: Binary Search O(log n), Merge Sort O(n log n), Quick Sort O(n log n) average, Karatsuba multiplication. Key: break problem into independent smaller problems.',
            
            'sliding window': 'Sliding Window: optimize substring/subarray problems from O(n¬≤) to O(n). Two types: Fixed size (max sum of k elements), Variable size (longest substring without repeating). Pattern: expand right, shrink left when invalid. Master: subarrays, longest/shortest substring, frequency problems.',
            
            'two pointer': 'Two Pointers: use 2 pointers to solve array/string problems efficiently. Patterns: 1) Opposite ends (palindrome, two sum sorted), 2) Same direction fast/slow (cycle detection, remove duplicates). Time O(n), Space O(1). Key: move pointers based on comparison. Master sorted array problems!',
            
            'binary search': 'Binary Search: find element in sorted array. Time O(log n). Template: while(left <= right) { mid = left + (right-left)/2; if found return; if target < mid: right = mid-1; else left = mid+1; }. Variations: first/last occurrence, rotated array, search in 2D, square root.',
            
            'recursion': 'Recursion: function calls itself. Components: Base case (stop), Recursive case (call itself with smaller input). Stack space O(n) for depth n. Examples: Factorial, Fibonacci, Tree traversal, Backtracking. Convert to iteration to save space. Master: induction, recurrence relations.',
            
            'sorting': 'Sorting algorithms: Bubble O(n¬≤) stable, Selection O(n¬≤) unstable, Insertion O(n¬≤) stable, Merge O(n log n) stable, Quick O(n log n) avg unstable, Heap O(n log n) unstable, Counting O(n+k) stable, Radix O(d(n+k)) stable. Choose based on: data size, stability, space, partially sorted.',
            
            'quick sort': 'Quick Sort: divide-and-conquer. Pick pivot, partition (smaller left, larger right), recurse. Average O(n log n), Worst O(n¬≤), Space O(log n) stack. Unstable. In-place. Optimization: random pivot, 3-way partition for duplicates. Fastest in practice despite worst case!',
            
            'merge sort': 'Merge Sort: divide array in half, sort each, merge. Time O(n log n) always, Space O(n), Stable. Never degrades. Good for: linked lists, external sorting, when stability needed. Merge operation: compare first elements, take smaller, repeat. Predictable performance!',
            
            'bit manipulation': 'Bit Manipulation: operate on bits directly. Operators: & (AND), | (OR), ^ (XOR), ~ (NOT), << (left shift), >> (right shift). Tricks: x & 1 (check odd), x & (x-1) (clear rightmost bit), x | (x-1) (set rightmost 0). Uses: optimization, space saving, cryptography.',
            
            'union find': 'Union-Find (Disjoint Set): tracks disjoint sets. Operations: Find (which set?), Union (merge sets). With path compression + union by rank: almost O(1). Uses: Kruskal\'s MST, Cycle detection, Connected components, Network connectivity. Implement: parent array, rank/size optimization.',
            
            'segment tree': 'Segment Tree: for range queries on arrays. Build O(n), Query/Update O(log n), Space O(n). Stores: each node = range info (sum, min, max). Uses: Range sum/min/max, Point/range updates, Lazy propagation for range updates. More versatile than prefix sum!',
            
            'interview tips': 'Interview Strategy: 1) Clarify: ask about constraints, edge cases, 2) Example: work through test case, 3) Brute force: explain naive O(n¬≤) solution, 4) Optimize: identify bottleneck, use patterns, 5) Code: clean, readable, test edge cases, 6) Analyze: time/space complexity, 7) Follow-up: discuss optimizations.',
            
            'practice': 'Effective Practice: 1) Solve 5 problems daily consistently, 2) Master patterns not memorize solutions, 3) Time yourself (30 min limit), 4) Review solutions after attempting, 5) Revisit problems after 1 week, 6) Focus on weak areas, 7) Mock interviews weekly. Quality > Quantity!',
            
            'complexity': 'Analyzing Complexity: 1) Count basic operations, 2) Express as function of input size n, 3) Identify fastest-growing term, 4) Drop constants and lower terms. Nested loops: multiply, Sequential: add. Master Theorem for recursion. Consider: best, average, worst cases. Always optimize!',
            
            'pattern': 'Common Patterns: 1) Sliding Window (substring/subarray), 2) Two Pointers (sorted arrays), 3) Fast/Slow Pointers (cycles), 4) Merge Intervals (overlapping), 5) Cyclic Sort (1 to n), 6) In-place reversal (linked list), 7) BFS/DFS (trees/graphs), 8) Top K (heap), 9) K-way merge, 10) Subset/Permutation (backtrack).'
        };

        function askQuestion(question) {
            document.getElementById('chatInput').value = question;
            sendMessage();
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            const messagesContainer = document.getElementById('chatbotMessages');
            
            const userMsg = document.createElement('div');
            userMsg.className = 'chat-message user';
            userMsg.innerHTML = `<p>${message}</p>`;
            messagesContainer.appendChild(userMsg);

            setTimeout(() => {
                const botMsg = document.createElement('div');
                botMsg.className = 'chat-message bot';
                
                const lowerMessage = message.toLowerCase();
                let response = "I'm your DSA expert! Ask me about: What is DSA, Big O, data structures (arrays, trees, graphs, heaps, tries), algorithms (sorting, searching, DP, greedy, backtracking), patterns (sliding window, two pointers), interview tips, or practice strategies!";
                
                // Find best matching topic
                let bestMatch = '';
                let bestMatchLength = 0;
                for (const [key, value] of Object.entries(dsaKnowledge)) {
                    if (lowerMessage.includes(key) && key.length > bestMatchLength) {
                        bestMatch = key;
                        bestMatchLength = key.length;
                        response = value;
                    }
                }
                
                botMsg.innerHTML = `<p>${response}</p>`;
                messagesContainer.appendChild(botMsg);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 500);

            input.value = '';
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
    </script>
</body>
</html>
